<?xml version="1.0" encoding="UTF-8"?>
<!--KhaosControl Standard XML Import version 1.27 -->
<SALES_ORDERS xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.keystonesoftware.co.uk/xml/KSDXMLImportFormat.xsd">
	<SALES_ORDER>
		<CUSTOMER_DETAIL>
			<!--Comment: -1 = True, 0 = False-->
			<!--Comment: If false, update customer details from values (matching on COMPANY_CODE) instead of creating new-->
			<!--Comment:If true, then a new customer is always created - no deduping is done -->
			<!--Comment: Recommended setting for <IS_NEW_CUSTOMER> tag is 0 as this lets Khaos Control check if customer already exists -->
			<!--Comment: THIS FIELD IS MANDATORY -->
			<IS_NEW_CUSTOMER>0</IS_NEW_CUSTOMER>
			<!--Comment: Customer code-->
			<!--Limit: 10 characters-->
			<COMPANY_CODE>KSD001</COMPANY_CODE>
			<!--Comment: Customer other ref-->
			<!--Limit: 30 characters-->
			<OTHER_REF/>
			<!--Comment: Customer's web site URL-->
			<!--Limit: 50 characters-->
			<WEB_SITE/>
			<!--Comment: Web site user name-->
			<!--Limit: 50 characters-->
			<WEB_USER/>
			<!--Comment: Specify a company class from KhaosControl, Only pre-existing classes will be mapped onto the customer record.  -->
			<!--Comment: This tag is mandatory and must be populated with a valid Company Class, or Order Import will fail. -->
			<COMPANY_CLASS>Internet</COMPANY_CLASS>
			<!--Comment: Specify a company type from KhaosControl, Only pre-existing types will be mapped onto the customer record.  -->
			<!--Comment: When used, this must be populated with a valid Company Type, or Order Import will fail. -->
			<COMPANY_TYPE>Others</COMPANY_TYPE>
			<!--Comment: If company name is left blank, KhaosControl will construct a name based on the contact details -->
			<!--Limit: 50 characters-->
			<COMPANY_NAME>Keystone Software Development Ltd</COMPANY_NAME>
			<!--Comment: Company Source Code. -->
			<SOURCE_CODE>KC001</SOURCE_CODE>
			<!--Comment: Current defaults are (codes/meanings may vary from system to system):
				1 - Our use and any 3rd parties
				2 - Our use and selected 3rd parties
				3 - Our use and no 3rd parties
				4 - Our use - catalogues & order correspondence only
				5 - Our use - order correspondence only
				6 - Do not use
				7 - Gone aways
				8 - Deceased
			-->
			<MAILING_STATUS>3</MAILING_STATUS>
			<!--Comment: -1 = True, 0 = False-->
			<OPTIN_NEWSLETTER>-1</OPTIN_NEWSLETTER>
			<!--Comment: VAT no. -->
			<!--Limit: 20 characters-->
			<TAX_REFERENCE/>
			<!--Comment: User defined properties for customer -->
			<UDA>
				<!--Comment: User defined value -->
				<!--Comment: NAME classifies the value returned -->
				<ADDITIONAL NAME="Security Question">Mother's Maiden Name</ADDITIONAL>
				<ADDITIONAL NAME="Favourite Colour">Salmon Pink</ADDITIONAL>
			</UDA>
			<!--Comment: Project 63 only - Gift Aid. Boolean field (-1, 0) This will apply to new customers only -->
			<GIFT_AID>0</GIFT_AID>
			<!--Comment: In addresses, the INVADDR is mandatory and, as a minimum, munst have ADDRESS1, TOWN, POSTCODE, and contact (TITLE/FORENAME/SURNAME) set -->
			<!--Comment: Other fields are optional but are recommended, particularly COUNTRY_CODE -->
			<!--Comment: If DELADDR is provided, but invalid (i.e. mandatory fields are not all populated) then import will either fail, or fall back to using INVADDR, depending on how System Values are configured in Khaos Control -->
			<ADDRESSES>
				<INVADDR>
					<!--Limit: 35 characters. Mandatory -->
					<IADDRESS1>Century House</IADDRESS1>
					<!--Limit: 35 characters-->
					<IADDRESS2>84 Commercial Road</IADDRESS2>
					<IADDRESS3/>
					<!--Limit: 35 characters. Mandatory -->
					<ITOWN>Grantham</ITOWN>
					<!--Limit: 35 characters-->
					<ICOUNTY>Lincolnshire</ICOUNTY>
					<!--Limit: 10 characters. Mandatory -->
					<IPOSTCODE>NG31 6DB</IPOSTCODE>
					<!--Comment: Either ICOUNTRY_CODE or ICOUNTRY_NAME must be specified. This supercedes earlier behaviour in the web service, where Khaos Control defaulted the country to GBR when not populated -->
					<ICOUNTRY_CODE/>
					<ICOUNTRY_NAME/>
					<!--Limit: 20 characters. Mandatory -->
					<ITITLE>Mr</ITITLE>
					<!--Limit: 50 characters. Mandatory -->
					<IFORENAME>Mike</IFORENAME>
					<!--Limit: 50 characters. Mandatory -->
					<ISURNAME>Cockfield</ISURNAME>
					<!--Limit: 19 characters-->
					<ITEL>01476 562447</ITEL>
					<!--Limit: 19 characters-->
					<IFAX/>
					<!--Limit: 19 characters-->
					<IMOBILE/>
					<!--Limit: 50 characters-->
					<IEMAIL>info@keystonesoftware.co.uk</IEMAIL>
					<!--Comment: contact.email_subscriber: Tickbox 0 = No, -1 = Yes -->
					<IEMAIL_SUBSCRIBER>-1</IEMAIL_SUBSCRIBER>
					<!--Comment: Date of birth: yyyy-mm-dd -->
					<IDOB/>
					<!--Comment: Organisation -->
					<IORGANISATION/>
				</INVADDR>
				<!--Comment: If empty delivery address details then the system will use invoice address as above-->
				<!--Limit: as above-->
				<DELADDR>
					<!--Limit: 35 characters. Mandatory -->
					<DADDRESS1/>
					<!--Limit: 35 characters-->
					<DADDRESS2/>
					<DADDRESS3/>
					<!--Limit: 35 characters. Mandatory -->
					<DTOWN/>
					<!--Limit: 35 characters-->
					<DCOUNTY/>
					<!--Limit: 10 characters. Mandatory -->
					<DPOSTCODE>NG31 6DB</DPOSTCODE>
					<!--Comment: If a Delivery Address has been included, either DCOUNTRY_CODE or DCOUNTRY_NAME must be specified. This supercedes earlier behaviour in the web service, where Khaos Control defaulted the country to GBR when not populated -->
					<DCOUNTRY_CODE/>
					<DCOUNTRY_NAME/>
					<!--Limit: 20 characters. Mandatory -->
					<DTITLE/>
					<!--Limit: 50 characters. Mandatory -->
					<DFORENAME/>
					<!--Limit: 50 characters. Mandatory -->
					<DSURNAME/>
					<!--Limit: 19 characters-->
					<DTEL/>
					<!--Limit: 19 characters-->
					<DFAX/>
					<!--Limit: 19 characters-->
					<DMOBILE/>
					<DEMAIL/>
					<!--Comment: contact.email_subscriber: Tickbox 0 = No, -1 = Yes -->
					<DEMAIL_SUBSCRIBER>0</DEMAIL_SUBSCRIBER>
					<!--Comment: Date of birth: yyyy-mm-dd -->
					<DDOB/>
					<!--Comment: Organisation -->
					<DORGANISATION/>
				</DELADDR>
			</ADDRESSES>
		</CUSTOMER_DETAIL>
		<PAYMENTS>
			<PAYMENT_DETAIL>
				<!--Comment: Payments for orders are not in KhaosControl system currency, they are assumed to be of the same currency as the order. -->
				<!--Comment: Only the characters 0-9 and the period character (.) can be used. -->
				<!--Comment: Values may only be specified to 2dp -->
				<PAYMENT_AMOUNT>56.99</PAYMENT_AMOUNT>
				<!--Comment: Type of Payment, use the appropriate value from the following list:
					0 = Cash,
					1 = Cheque,
					2 = Credit Card,
					3 = Account,
					4 = Voucher
				-->
				<PAYMENT_TYPE>2</PAYMENT_TYPE>
				<!--Comment: Card Types include Visa, American, Amex -->
				<CARD_TYPE>Visa</CARD_TYPE>
				<!--Comment: Card number can also be used as voucher reference or cheque reference-->
				<CARD_NUMBER>49123123123123</CARD_NUMBER>
				<CARD_START>0104</CARD_START>
				<CARD_EXPIRE>1106</CARD_EXPIRE>
				<CARD_ISSUE>01</CARD_ISSUE>
				<CARD_CV2>111</CARD_CV2>
				<CARD_NAME>Mr Mike Cockfield</CARD_NAME>
				<!--Comment: The Following fields can be used when payment (of type 2 only) has already been taken or pre-authed. -->
				<!--Comment: If the AUTH_CODE is not empty the payment will be treated as PAID unless PREAUTH is TRUE. -->
				<!--Comment: To process an authorisation following a preauth transaction, all information used must match that used in the preauth transaction.-->
				<!--Comment: -1 = True, 0 = False-->
				<PREAUTH>0</PREAUTH>
				<!--Comment: AUTH_CODE, e.g. SagePay TxAuthNo (for SagePay) -->
				<AUTH_CODE/>
				<!--Comment: TRANSACTION_ID, e.g. SagePay VPSTxID (for SagePay) or OrderID (HSBC XML/API) -->
				<TRANSACTION_ID/>
				<!--Comment: PREAUTH_REF, Reference used when Online transaction was made. ie. the SagePay VendorTxCode. Needed to complete a preauth, or refund transaction through KhaosControl. -->
				<PREAUTH_REF/>
				<!--Comment: SECURITY_REF, SagePay SecurityKey Encryption reference. Needed to complete a preauth, or refund transaction through KhaosControl. -->
				<SECURITY_REF/>
				<!--Comment: SECURITY_COMMENT, (NOT Optional) For SagePay Deferred and Released! Address / Security checking result, ("ALL MATCHED" expected!) -->
				<!--Comment: SECURITY_COMMENT, (Optional) SagePay AVSCV2, (Address and CV2 matched / Address match only / CV2 match only etc. -->
				<SECURITY_COMMENT/>
				<!--Comment: ACCOUNT_NUMBER, (Optional) Card transaction account number in KhaosControl to charge card against, required if multiple accounts are set up in Credit Card Integration Settings -->
				<ACCOUNT_NUMBER>1</ACCOUNT_NUMBER>
				<!--Comment: ACCOUNT_NAME, (Optional) Name of the bank account in Khaos Control to post payment line against -->
				<ACCOUNT_NAME>Business Current</ACCOUNT_NAME>
				<!--Comment: To successfully import a preauth the following fields are needed (see PSP Required Fields document for additional information):
					From SagePay:
						-Preauth must be -1
						-AuthCode, Transaction_ID, Preauth_Ref and Security_Ref must be non-blank and contain the details returned by SagePay from the preauth
						-Security_Comment should be filled in with AAV results if possible (not required)
					From HSBC XML/API:
						-Preauth must be -1
						-Transaction_ID should have the order ID from the original preauth transaction - the other fields are not required for HSBC
				-->
			</PAYMENT_DETAIL>
		</PAYMENTS>
		<ORDER_HEADER>
			<!--Comment: Date format: yyyy-mm-dd or yyyy-mm-dd hh:mm:ss, other date formats MUST NOT BE USED -->
			<ORDER_DATE>2004-01-20</ORDER_DATE>
			<DELIVERY_DATE>2004-01-21 10:11:22</DELIVERY_DATE>
			<!--Comment: Used to check against order total calculated in Khaos Control -->
			<!--Comment: Only the characters 0-9 and the period character (.) can be used. -->
			<!--Comment: Values may only be specified to 2dp -->
			<ORDER_AMOUNT>56.99</ORDER_AMOUNT>
			<!--Comment: If ORDER_CURRENCY_CODE is blank the currency will default to the Khaos Control System currency (normally GBP)-->
			<!--Comment: Please specify the 3 character Currency Code, associated with the currency in Khaos Control (System Data/Currencies) ie. GBP / USD / EUR etc.-->
			<ORDER_CURRENCY_CODE>GBP</ORDER_CURRENCY_CODE>
			<!--Comment: allows Sales Orders to be placed against specific sites-->
			<SITE>Main Site</SITE>
			<!--Comment: Usually the web generated order reference. -->
			<!--Comment: THIS FIELD IS MANDATORY -->
			<!--Comment: This should be unique across all orders: it is used to make sure the same order is not imported twice -->
			<!--Limit: 50 characters-->
			<ASSOCIATED_REF>DK07151555O</ASSOCIATED_REF>
			<!--Comment: Agent against the order, must be a valid Agent code specified in the following Khaos Control screen; [ System Data | Agents ] -->
			<AGENT>Test Agent</AGENT>
			<!--Comment: Can be used to record comments from customers against the sales order or to describe special delivery / packing instructions, this will appear on KhaosControl Delivery Note Documentation.-->
			<!--Limit: 2000 characters-->
			<ORDER_NOTE/>
			<!--Comment: Can be used to record comments from customers or to describe special delivery instructions, this will appear on KhaosControl Invoice Documentation.-->
			<!--Limit: 2000 characters-->
			<INVOICE_NOTE/>
			<!--Comment: Use net & tax (VAT) OR grs. If grs is used amount is assumed to be VATable-->
			<!--Comment: Specify -1 to disable delivery -->
			<!--Comment: Any other value for delivery (inc. zero) is saved against the order as the delivery charge -->
			<!--Comment: If the tags are blank/missing then the system will calculate its own delivery charges -->
			<!--Comment: Only the characters 0-9 and the period character (.) can be used -->
			<!--Comment: Values may only be specified to 2dp -->
			<DELIVERY_NET>0</DELIVERY_NET>
			<DELIVERY_TAX>0</DELIVERY_TAX>
			<DELIVERY_GRS>0</DELIVERY_GRS>
			<!--Comment: Specify either courier code OR courier description. Code is preferred (more likely to be unique) -->
			<COURIER_CODE/>
			<COURIER_DESC/>
			<!--Comment: Purchase Order number from customer. Often used for customers paying on account. -->
			<PO_NUMBER>XXYZ</PO_NUMBER>
			<!--Comment: Specify a promotion code from KhaosControl, Only pre-existing codes will be mapped onto the order.-->
			<KEYCODE_CODE/>
			<!--Comment: Specify a brand name from KhaosControl. -->
			<!--Comment: When used, this must be populated with a valid Brand from Khaos Control, or Order Import will fail. -->
			<BRAND>Website A</BRAND>
			<!--Comment: Specify a source code from KhaosControl. Case Sensitive. -->
			<!--Comment: When used, this must be populated with a valid Sales Source from Khaos Control, or Order Import will fail. -->
			<SALES_SOURCE>INTERNET</SALES_SOURCE>
			<!--Comment: Courier note is actually recorded against the DELIVERY address, overwriting any notes already present -->
			<!--Limit: 255 characters-->
			<COURIER_NOTE>Green door</COURIER_NOTE>
			<!--Comment: Select a priority to record against the invoice (set up in KhaosControl / SystemData) -->
			<!--Comment: Invoice priority matches on description only at the moment, not 'code' or 'mark' -->
			<INV_PRIORITY/>
			<!--Comment: Project 63 only - Gift Aid. Boolean field (-1, 0). This will override the customers default. -->
			<GIFT_AID>0</GIFT_AID>
			<!--Commant: Manual Payments set against SOrder 0 - OFF, -1 - ON, when not included by default 0 -->
			<MANUAL_RECEIVED>0</MANUAL_RECEIVED>
			<!--Comment: Reqired by date -->
			<REQUIRED_BY_DATE></REQUIRED_BY_DATE>
			<!--Comment: (Optional) Custom header properties - only set after discussion with Keystone Software -->
			<CUSTOM>
				<CUSTOM_PROPERTY NAME="ORDER_WEIGHT">1000</CUSTOM_PROPERTY>
				<CUSTOM_PROPERTY NAME="INFLATE_PRICES">-1</CUSTOM_PROPERTY>
			</CUSTOM>
			<!--Comment: (Optional) CRM Comm Logs -->
			<COMM_LOGS>
				<COMM_LOG_ENTRY>
					<CONTACT_TYPE>Application</CONTACT_TYPE>
					<DATE>2004-01-21 10:11:22</DATE>
					<NEXT_DATE>2004-01-21 10:11:22</NEXT_DATE>
					<DESCRIPTION>Comm log description</DESCRIPTION>
					<RESPONSE>Comm log response</RESPONSE>
				</COMM_LOG_ENTRY>
				<COMM_LOG_ENTRY>
					<CONTACT_TYPE>Application</CONTACT_TYPE>
					<DATE>2004-01-21 10:11:22</DATE>
					<NEXT_DATE>2004-01-21 10:11:22</NEXT_DATE>
					<DESCRIPTION>Comm log description 2</DESCRIPTION>
					<RESPONSE>Comm log response 2</RESPONSE>
				</COMM_LOG_ENTRY>
			</COMM_LOGS>
			<!--Comment: (Optional) Website name. When set, the Order Item Description will be pulled from Web Categories for the Website. See dev 002620 -->
			<WEBSITE_NAME>FrenchSite</WEBSITE_NAME>
		</ORDER_HEADER>
		<ORDER_ITEMS>
			<ORDER_ITEM>
				<!--Comment: This field contains a stock code or other_ref value - see MAPPING_TYPE field -->
				<!--Comment: THIS FIELD IS MANDATORY -->
				<STOCK_CODE>HL0453</STOCK_CODE>
				<!--Comment:
					-1 = Automatic matching. Attempts to match the following fields in order:
						STOCK_CODE tag to Stock Code,
						STOCK_CODE tag to Other Reference,
						STOCK_CODE tag to Stock Barcodes,
						STOCK_DESC tag to Stock Description.
					1 = Above stock code relates to the Khaos Control "stock code" value,
					2 = Stock code relates to the Khaos Control "other ref" value,
					3 = External mapping file used for stock code resolution,
					4 = Match contents of STOCK_DESC tag to Stock Description (not recommended!)
					5 = Match contents of STOCK_CODE tag to Stock Barcodes
				-->
				<!--Comment: THIS FIELD IS MANDATORY -->
				<MAPPING_TYPE>1</MAPPING_TYPE>
				<!--Comment: If no description specified, the system will use the default description against the stock item. -->
				<!--Comment: Recommended to be specified so description on printouts matches website description -->
				<STOCK_DESC>LARGE DISPLAY CABINET</STOCK_DESC>
				<!--Comment: Can be used as a comment or note against each order line-->
				<EXTENDED_DESC>Please fit with brass handles.</EXTENDED_DESC>
				<ORDER_QTY>1</ORDER_QTY>
				<!--Comment: Use either net OR grs. If both are used only net will be actioned-->
				<!--Comment: It is mandatory to use the PRICE_NET tag when the line is for a non-standard Tax Rate item (i.e. zero rated). -->
				<!--Comment: It is mandatory to use the PRICE_GRS tag when the line is for a standard Tax Rate item. -->
				<!--Comment: Alternative use of these tags could cause calculation issues on import to Khaos Control. -->
				<!--Comment: Please see "Khaos Control Sales Order Calc v1.1.xls" in the WIP for details -->
				<!--Comment: Only the characters 0-9 and the period character (.) can be used -->
				<!--Comment: Values may only be specified to 2dp -->
				<PRICE_NET>12.34</PRICE_NET>
				<PRICE_GRS>56.99</PRICE_GRS>
				<!--Comment: Optional. KSD recommend that this is omitted, as the system will then use the applicable tax rate stored against the stock item within Khaos Control. -->
				<!--Comment: NOTE: Do NOT include a tax rate directly (eg 20), you must use the codes as outlined below (1, 2, ...) -->
				<!--Comment: Tax Rates can be amended within Khaos Control so you will need to acquire an up to date list of tax rate codes before including this information in the file, otherwise incorrect rates may be applied to the order line. -->
				<!--Comment: Example applicable tax rate codes to be used:
					1 - Standard (e.g, 20%),
					2 - Zero,
					4 - Reduced (e.g, 5%),
				-->
				<TAX_RATE>1</TAX_RATE>
				<!--Comment: Optional. Whereever possible the website must store all stock codes, including those of SCS (variant) child items as this avoids matching discrepancies-->
				<!--Comment: However the following tags can be used when a website has to specify the final variant that is being purchased from an SCS Parent product on the fly, and they do not have the final child item's stock code, only the stock code for the parent item. --> 
				<!--Comment: THE USE OF THESE TAGS IS NOT RECOMMENDED -->
				<OPTION_REF1>OAK</OPTION_REF1>
				<OPTION_REF2>PANELLED</OPTION_REF2>
				<OPTION_REF3>6ft</OPTION_REF3>
				<!--Comment: Optional Custom item properties - only set after discussion with Keystone Software (KSD Note: number is grid FieldIndex) -->
				<CUSTOM>
					<CUSTOM_PROPERTY NAME="56">ALPHA1000</CUSTOM_PROPERTY>
					<CUSTOM_PROPERTY NAME="57">12345</CUSTOM_PROPERTY>
				</CUSTOM>
				<!--Comment: Specify a Free Item Reason from KhaosControl. Case insensitive. -->
				<!--Comment: When used, this must be populated with a valid Free Item Reason from Khaos Control, or Order Import will fail. -->
				<FREEITEM_REASON/>
				<!--Comment: Import ref is an external SOrder item reference (not stock item ref!) -->
				<IMPORT_REF/>
			</ORDER_ITEM>
			<ORDER_ITEM>
				<STOCK_CODE>HL0454</STOCK_CODE>
				<MAPPING_TYPE>1</MAPPING_TYPE>
				<STOCK_DESC>LARGE DISPLAY CABINET</STOCK_DESC>
				<ORDER_QTY>1</ORDER_QTY>
				<PRICE_NET>12.34</PRICE_NET>
				<KSD_DISCOUNT>5</KSD_DISCOUNT>
				<TAX_RATE>1</TAX_RATE>
			</ORDER_ITEM>
		</ORDER_ITEMS>
	</SALES_ORDER>
	<SALES_ORDER/>
</SALES_ORDERS>
<!--
	Change History:
	1.01 - KEYCODE Support
	1.02 - SALES_SOURCE Support
	1.03 - COMPANY_CLASS Support
	1.04 - Multiple Payment Support
	1.05 - Support added for Authorised / PreAuthed Payments.
	1.06 - CARD_NAME added
	1.07 - Clarified behaviour of DELIVERY tags
	1.08 - Country Name import now supported. Invoice Country used as Company Country. Blank field defaults to system default. ie. "United Kingdom"
	1.09 - Invoice Note support added, the tag information will appear on KhaosControl Invoice Documentation for imported orders.
	1.10 - Country Specified by 3 letter Code now supported. Invoice Country used as Company Country. This field takes precedense over Country Name
	1.11 - clarified behaviour of payment tags when dealing with Protx payments
	1.12 - Currency ID now supported, add payment ACCOUNT_NUMBER
	1.13 - Courier code/desc imported if specified
	1.14 - Courier note & invoice priority tags added, ADDITIONAL tags added to customer
	1.15 - UDA collection added / CUSTOMER_DETAIL->ADDITIONAL grouped in the collection
	1.16 - Boolean (-1, 0) GIFT AID tag support added for project 0063. New Tags accepted under Customer Details and Order Header. Not supported on any other project.
	1.17 - Customer Source Code added
	1.18 - COMPANY_TYPE Support
	1.19 - CUSTOM_PROPERTY support, added more comments
	1.20 - ACCOUNT_NAME tag added
	1.21 - PO_NUMBER tag added
	1.22 - DOB tag (Contact.DateOfBirth) added
	1.23 - Custom options added
	1.24 - OTHER_REF and WEB_USER against CUSTOMER_DETAIL
	1.25 - FREEITEM_REASON in ORDER_ITEMS
	1.26 - IMPORT_REF in ORDER_ITEMS
	1.27 - Add character limits to major fields and slight tidy up
	1.28 - REQUIRED_DATE
	1.29 - AGENT
	1.30 - Removed comment for keycode to reflect actual functionality.
	1.31 - Changed Protx to SagePay
-->